ViPNet гайд (основано на https://github.com/xxhale/vipnet/blob/main/METODICHKA)
по большей сути более актуализированная и подробная версия методички выше + гайд по решению частых проблем

Чек-ап перед работой:
1. На всех машинах выключена синхронизация времени (в Workstation: Settings -> Options (справа от вкладки hardware) -> VMWare Tools -> Synchronize guest time with host -> ВЫКЛЮЧИТЬ)
2. IP-адреса машин настроены корректно (обязательно пропинговываем машинки через ping <IP> в командной строке)
3. На всех виндовых машинах отключен брандмауэр (можно сделать через cmd введя "netsh advfirewall set allprofiles state off")
4. На всех машинах установлен Visual C (VPN Administrator 4.6.7_R1\Soft\Центр управления сетью\Server Install\Packages\Visual C++)
4. Везде стоит одинаковая дата (я ставлю 1 ноября 2023 года: 01.11.2023)
5. ПЕРЕД НАЧАЛОМ РАБОТЫ НА ВСЕХ МАШИНАХ ЕСТЬ СНЕПШОТ, ГДЕ РАБОТА ЕЩЁ НЕ ПРОВОДИЛАСЬ (потом скажете спасибо)

Подключение диска к машинке (делалось в VMWare Workstation):
ПКМ по машине -> Settings -> ЛКМ по CD/DVD drive -> ставим галочку в Use ISO image file -> Browse... -> Ищем .iso с випнетом (у меня это был ViPNet2022.iso) в F7
применяем настройки и радуемся

Если из этого диска установщик запускается с ошибкой, значит нужно его переместить на рабочий стол и запускать оттуда (для некоторых установщиков может потребоваться запуск строго от имени админа)

  I. Net1-Open:
УСТАНОВКА БАЗЫ ДАННЫХ
Директория: VPN Administrator 4.6.7_R1\Soft\Центр управления сетью\Server Install\Packages\SqlExpress2014
запускаем установщик (х64 для 64 бит, х86 для 32 бит). Далее делаем изменения согласно следующей последовательности:
1. Жмём New SQL
2. Named Instance будет WINNCCSQL
3. SQL Server Browser переключаем в Automatic
4. Выставляем режим Mixed Mode и вводим пароль xxXX1234
5. В том же окне во вкладке Filestream ставим все возможные галочки и запускаем установку
Надеемся что установка завершилась без ошибок. Далее:
6. В поиске ищем SQL Server 2014 Configuration Manager
7. Переходим в SQL Server Network Config
8. Включаем все протоколы (TCP/IP обязательно)
9. Переходим в SQL Server Services
10. ПКМ по SQL Server и SQL Server Browser и жмём Restart.

  II. Net1-Admin:
СТАВИМ СЕРВЕРНЫЙ ЦУС
Директория: VPN Administrator 4.6.7_R1\Soft\Центр управления сетью\Server Install\Packages\ru-ru
запускаем установщик WinNccServerInstaller_x64
Как проверять подключение:
В имя сервера до первого слэша (\) пишем IP-адрес, затем после слэша вводим само имя WINNCCSQL (e.x. 1.2.3.3\WINNCCSQL)
Проверка подлинности ставим SQL Server
Имя: sa
Пароль: xxXX1234

  III. Net1-Open
СТАВИМ КЛИЕНТСКИЙ ЦУС
Директория: VPN Administrator 4.6.7_R1\Soft\Центр управления сетью\Client Install\Packages\ru-ru
запускаем установщик WinNccServerInstaller_x64 через командную строку от имени администратора
команды для ввода (заранее перенесён установщик на рабочий стол): cd /
cd Users/Net1-Open/Desktop
WinNccClientInstaller_x64.msi
Открываем, вводим IP 1.2.3.1, данные от входа Administrator/Administrator, задаем пароль (это лучше скринить) xxXX1234
Ключ берём из диска F7 ViPNet_License.iso для Сети 1 (т.к. у нас Net1, логично)
ставим ключ, там всё легко до ужаса. Далее ничего не делаем и оставляем в машину таком состоянии.

  IV. Net1-Admin
СТАВИМ УКЦ
Директория: VPN Administator 4.6.7_R1\Soft\Удостоверяющий и ключевой центр
Переносим все файлы из этой папки на рабочий стол в новую папку и запускаем установщик (setup)
После установки открываем УКЦ и делаем всё по следующим шагам:
1. Настройка новой базы данных
2. Пишем 1.2.3.3\winnccsql
Далее
Выбираем По имени и паролю пользователя SQL-сервера
Log: sa
Pas: xxXX1234
Потом далее до "настройки паролей"
Выбираем собственный пароль > Далее > Пишем xxXX1234
Так как ключ у нас установлен из прошлого шага, жмём "Далее" до раздела "Настройка паролей"
Выбираем пункт "Собственный пароль" и жмём "Далее". Вводим наш стандартный xxXX1234

СТАВИМ VIPNET CLIENT 4.5.5
Запускаем установщик из ViPNet Client Windows. Делаем установку со стандартными параметрами

  V. Net1-Coord
СТАВИМ ПЕРВИЧНЫЕ НАСТРОЙКИ
Выбираем 2 пункт для установки
Соглашаемся на условия
Выбираем контитент Asia
Страна Russia (№38)
Регион Tomsk
Ставим время, которое стоит на остальных компах
На этапе активации ключа бросаем эту машину и переходим к следующему пункту

  VI. Net1-OperCA
СТАВИМ VIPNET CLIENT 4.5.5
Запускаем установщик из ViPNet Client Windows
Запускаем установщик из Publication Service
Запускаем установщик из Registration Point
Запускаем установщик из CA Informing
Если попросит ключи то можно забить
Перезагружаем машину

  VII. Net2-Client
УСТАНОВКА VIPNET CLIENT 4.5.5
Аналогично прошлому шагу устанавливаем клиентский випнет

  VIII. Net2-Coord
Аналогично шагу V настраиваем координатор.

# -----
# Задание 1 полностью выполнено. Дальше будет только хуже)))))
# -----
